# 关于工作流程

在深度工作快两年了，客观点讲，无论外界的声音如何，都不可否认，深度是民企中唯一一家优秀的专注做发行版的公司，虽然桌面是深度的亮点，但深度的服务器团队近几年刚刚起步。很多是事情是混乱的，特别是在工作流程上，那我就说说几句槽点：

* 某某领导说，能不能把自动化平台搭建起来，把研发人员解脱出来？
* 某某领导说，我们不能做出高质量的产品，是因为缺少自动化测试？
* 某某员工说，领导对项目时间节点有要求，没有时间梳理和调整流程？
* 某某员工说，能否后面基于构建平台来规范流程，现阶段暂时不做调整？

无论领导和员工，似乎都认为只要把所谓的自动化平台搭建起来，好像一切就都能解脱的感觉，好像之前的所有混乱，所有工程问题只差一个平台，有了平台就能万事具备。而实际情况是，基本每个队伍只有一个或两个研发的时候，领导既要求员工搭建所谓的自动化的平台，又要求保障项目任务完成的时间节点，于是就回到了上面的四个问题，在资源有限的前提下，这是一个死循环，要解决这类问题，我们应该跳出这个死循环，这里不是否定自动化平台的意义，好比同样的计算`1+1`，口算绝对比用计算机得出的结果快，平台是可管理的人员数量和事情复杂到一定的程度的量级的时候才需要考虑的事情，就像大型网站的架构从来是慢慢演化的一样，好多事情不是凭空产生的，这一切问题的核心本质在于能否建立合理的工作流程，有了合理的流程，无论是一个人还是多人，都可以保证工作合理向前推进，下面我们将就创建LINUX发行版本的工作流程！

# LINUX发行版的工作流程

所有发行版大体都遵循这个流程：源码版本控制-> 打包制作安装包 -> 归档入库 -> 制作安装介质 。。。 创建一个LINUX发行版，核心关注点个人理解就是三个，安装包，仓库，安装介质：
 
* 安装包：这项的关注点是如何从源码生成安装包，保证安装包间的依赖关系正确
* 仓库：这项的关注点是如何把安装包导入仓库，并保证仓库中索引和数据一致正确
* 安装介质：这项的关注点是从仓库同步获取最新的软件包，制作成可用可引导介质，比如安装光盘，安装U盘

## 其他细节与规范：

* 使用版本控制工具来管理源码，源码的修改提交一定要是使用版本控制工具，不要觉得使用版本控制工具是多余的步骤，使用版本控制可以方便的完成跟踪，评审，甚至回滚等操作； 
* 打包制作安装包，从源码制作安装包，一个细节就是尽量每次都能在一个干净的环境下构建，另外一个细节就是软件包每次构建的修订号要保持保持持续增加，就算是代码回滚，修订号依然要保持+1,很多时候的混乱根源就是从打包开始；
* 归档入库 -> 制作安装介质，向仓库导入软件包，有个原则，就是仓库内的软件包原则上只能升级，不能覆盖仓库里同版本的软件包，不能随意降级软件包版本，在生成安装介质的时候，一定要清空本地构建环境，每次都从仓库获取最新软件包；


# 具体实例

## 创建规范

## 同步上游

## 管理源码与打包

## 管理仓库

## 制作安装介质
